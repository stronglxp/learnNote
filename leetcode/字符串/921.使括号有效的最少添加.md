#### 921. 使括号有效的最少添加

#### 2022-10-04 LeetCode每日一题

链接：https://leetcode.cn/problems/minimum-add-to-make-parentheses-valid/

标签：**字符串、栈、贪心**

> 题目

只有满足下面几点之一，括号字符串才是有效的：

- 它是一个空字符串，或者
- 它可以被写成 AB （A 与 B 连接）, 其中 A 和 B 都是有效字符串，或者
- 它可以被写作 (A)，其中 A 是有效字符串。

给定一个括号字符串 s ，移动N次，你就可以在字符串的任何位置插入一个括号。

例如，如果 s = "()))" ，你可以插入一个开始括号为 "(()))" 或结束括号为 "())))" 。
返回 为使结果字符串 s 有效而必须添加的最少括号数。 

示例 1：

```java
输入：s = "())"
输出：1
```

示例 2：

```java
输入：s = "((("
输出：3
```


提示：

- 1 <= s.length <= 1000
- s 只包含 '(' 和 ')' 字符。

> 分析

记录左右括号的数量left和right，当出现左括号时，left++，当出现右括号时，如果left此时大于0，则说明当前右括号能匹配上一个左括号，left--；如果此时left不大于0，则right++，说明有一个右括号匹配等待匹配。

最后left + right的值就是需要添加的括号数。

> 编码

```java
class Solution {
    public int minAddToMakeValid(String s) {
        int left = 0, right = 0;
        char[] chs = s.toCharArray();
        for (char c : chs) {
            if (c == '(') {
                left++;
            } else {
                if (left > 0) {
                    left--;
                } else {
                    right++;
                }
            }
        }
        return left + right;
    }
}
```

![image-20221004140916088](921.使括号有效的最少添加.assets/image-20221004140916088.png)

```go
func minAddToMakeValid(s string) int {
    left, right := 0, 0
    for _, c := range s {
        if c == '(' {
            left++
        } else {
            if left > 0 {
                left--
            } else {
                right++
            }
        }
    }
    return left + right
}
```

![image-20221004141358963](921.使括号有效的最少添加.assets/image-20221004141358963-4864039.png)